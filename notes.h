#ifndef __NOTES_H__
#define __NOTES_H__

#include "hw_types.h"
#include "prcm.h"

#define MAX_NOTES 10
#define POS_TO_FREQ(POS) POS * (850.0 / 100.0) + 250
#define FREQ_TO_POS(FREQ) (FREQ - 250) / (850.0 / 100.0)

typedef struct {
    int x;
    int start_ms;
    int length_ms;
} Note;

// note positions
#define  C4   FREQ_TO_POS(262)
#define  CS4  FREQ_TO_POS(277)
#define  D4   FREQ_TO_POS(294)
#define  DS4  FREQ_TO_POS(311)
#define  E4   FREQ_TO_POS(330)
#define  F4   FREQ_TO_POS(349)
#define  FS4  FREQ_TO_POS(370)
#define  G4   FREQ_TO_POS(392)
#define  GS4  FREQ_TO_POS(415)
#define  A4   FREQ_TO_POS(440)
#define  AS4  FREQ_TO_POS(466)
#define  B4   FREQ_TO_POS(494)
#define  C5   FREQ_TO_POS(523)
#define  CS5  FREQ_TO_POS(554)
#define  D5   FREQ_TO_POS(587)
#define  DS5  FREQ_TO_POS(622)
#define  E5   FREQ_TO_POS(659)
#define  F5   FREQ_TO_POS(698)
#define  FS5  FREQ_TO_POS(740)
#define  G5   FREQ_TO_POS(784)
#define  GS5  FREQ_TO_POS(831)
#define  A5   FREQ_TO_POS(880)
#define  AS5  FREQ_TO_POS(932)
#define  B5   FREQ_TO_POS(988)
#define  C6   FREQ_TO_POS(1047)
#define  CS6   FREQ_TO_POS(1109)

static const Note demo_song[] = {
    {FS5, 104, 169},
    {FS5, 315, 372},
    {GS5, 740, 371},
    {A5, 1164, 371},
    {FS5, 1588, 371},
    {CS6, 2012, 774},
    {FS5, 3496, 169},
    {FS5, 3707, 372},
    {GS5, 4132, 371},
    {A5, 4556, 371},
    {CS6, 4980, 371},
    {B5, 5404, 573},
    {A5, 6040, 169},
    {GS5, 6251, 373},
    {E5, 6675, 171},
    {E5, 6888, 573},
    {CS5, 7524, 170},
    {CS5, 7735, 171},
    {E5, 8795, 271},
    {E5, 9113, 272},
    {E5, 9432, 169},
    {E5, 9643, 272},
    {CS5, 9962, 270},
    {D5, 10280, 169},
    {E5, 10492, 270},
    {E5, 10809, 271},
    {E5, 11339, 271},
    {E5, 11657, 272},
    {FS5, 11975, 171},
    {E5, 12187, 272},
    {CS5, 12611, 774},
    {FS5, 13883, 371},
    {GS5, 14307, 371},
    {A5, 14731, 371},
    {CS6, 15155, 372},
    {FS5, 15579, 272},
    {FS5, 15897, 272},
    {FS5, 16215, 170},
    {FS5, 16436, 369},
    {FS5, 17275, 271},
    {FS5, 17593, 271},
    {FS5, 17910, 172},
    {FS5, 18136, 364},
    {E5, 18970, 273},
    {E5, 19288, 273},
    {E5, 19607, 170},
    {E5, 19823, 374},
    {E5, 20667, 271},
    {E5, 20985, 271},
    {E5, 21302, 172},
    {E5, 21515, 271},
    {CS5, 21832, 272},
    {CS5, 22151, 171},
    {D5, 22362, 272},
    {D5, 22680, 272},
    {D5, 22999, 170},
    {D5, 23210, 378},
    {D5, 24059, 271},
    {D5, 24377, 271},
    {D5, 24694, 172},
    {D5, 24907, 276},
    {FS5, 25224, 272},
    {E5, 25543, 171},
    {CS5, 25754, 272},
    {CS5, 26072, 272},
    {CS5, 26391, 170},
    {CS5, 26602, 378},
    {FS5, 27451, 371},
    {GS5, 27875, 371},
    {A5, 28299, 372},
    {CS6, 28722, 373},
    {FS5, 29146, 272},
    {FS5, 29464, 272},
    {FS5, 29783, 170},
    {FS5, 29994, 378},
    {FS5, 30843, 270},
    {FS5, 31160, 271},
    {FS5, 31478, 172},
    {FS5, 31691, 270},
    {A5, 32008, 272},
    {GS5, 32327, 171},
    {E5, 32538, 272},
    {E5, 32857, 270},
    {E5, 33175, 170},
    {E5, 33386, 378},
    {E5, 34235, 270},
    {E5, 34552, 272},
    {E5, 34870, 171},
    {E5, 35083, 270},
    {CS5, 35400, 272},
    {CS5, 35719, 170},
    {D5, 35930, 272},
    {D5, 36249, 270},
    {D5, 36567, 170},
    {D5, 36778, 378},
    {D5, 37627, 270},
    {D5, 37944, 272},
    {D5, 38262, 171},
    {D5, 38475, 270},
    {FS5, 38792, 272},
    {E5, 39111, 170},
    {CS5, 39322, 272},
    {CS5, 39641, 270},
    {CS5, 39959, 169},
    {CS5, 40276, 272},
    {A4, 40595, 170},
    {FS4, 40806, 368}
};

static const Note demo_song_back[] = {
    {110, 315, 200},
    {139, 527, 200},
    {165, 740, 199},
    {220, 951, 200},
    {277, 1163, 200},
    {330, 1375, 201},
    {277, 1587, 100},
    {220, 1694, 99},
    {165, 1799, 100},
    {139, 1905, 100},
    {73, 2011, 200},
    {110, 2224, 199},
    {147, 2435, 200},
    {185, 2648, 199},
    {220, 2859, 201},
    {147, 3071, 200},
    {220, 3283, 201},
    {147, 3495, 200},
    {73, 3707, 200},
    {110, 3919, 200},
    {147, 4132, 200},
    {185, 4343, 201},
    {220, 4555, 200},
    {147, 4767, 201},
    {220, 4979, 200},
    {147, 5191, 200},
    {69, 5403, 200},
    {104, 5616, 199},
    {139, 5827, 200},
    {165, 6040, 199},
    {208, 6251, 201},
    {139, 6463, 200},
    {208, 6675, 200},
    {139, 6887, 200},
    {92, 7099, 200},
    {139, 7311, 200},
    {185, 7524, 199},
    {220, 7735, 201},
    {277, 7947, 200},
    {185, 8159, 201},
    {277, 8371, 200},
    {185, 8583, 200},
    {62, 8795, 200},
    {92, 9007, 200},
    {123, 9219, 200},
    {147, 9431, 200},
    {185, 9643, 201},
    {123, 9855, 200},
    {185, 10067, 200},
    {123, 10279, 200},
    {82, 10491, 200},
    {123, 10703, 200},
    {165, 10915, 200},
    {208, 11127, 201},
    {247, 11339, 200},
    {165, 11551, 201},
    {247, 11763, 200},
    {165, 11975, 200},
    {110, 12187, 200},
    {139, 12399, 200},
    {165, 12611, 200},
    {220, 12823, 200},
    {277, 13035, 201},
    {165, 13247, 200},
    {277, 13459, 200},
    {165, 13671, 200},
    {185, 13883, 200},
    {208, 14094, 201},
    {220, 14306, 200},
    {247, 14518, 202},
    {277, 14730, 201},
    {247, 14942, 201},
    {220, 15154, 201},
    {208, 15366, 201},
    {73, 15578, 403},
    {147, 16002, 202},
    {73, 16214, 402},
    {73, 16638, 201},
    {147, 16850, 402},
    {73, 17275, 401},
    {147, 17699, 200},
    {73, 17910, 402},
    {73, 18334, 201},
    {147, 18547, 402},
    {69, 18970, 402},
    {139, 19394, 202},
    {69, 19606, 402},
    {69, 20030, 201},
    {139, 20242, 402},
    {92, 20667, 401},
    {139, 21090, 201},
    {92, 21302, 402},
    {92, 21726, 201},
    {139, 21938, 403},
    {62, 22362, 402},
    {123, 22786, 202},
    {62, 22998, 402},
    {62, 23422, 201},
    {123, 23634, 402},
    {82, 24059, 401},
    {165, 24482, 201},
    {82, 24694, 402},
    {82, 25118, 201},
    {165, 25330, 403},
    {55, 25754, 402},
    {139, 26178, 202},
    {55, 26390, 402},
    {55, 26814, 201},
    {139, 27026, 402},
    {55, 27451, 401},
    {139, 27874, 201},
    {55, 28086, 402},
    {55, 28510, 201},
    {139, 28722, 403},
    {73, 29146, 402},
    {147, 29570, 202},
    {73, 29782, 402},
    {73, 30206, 201},
    {147, 30419, 401},
    {73, 30843, 401},
    {147, 31266, 201},
    {73, 31478, 402},
    {73, 31902, 201},
    {147, 32114, 403},
    {69, 32538, 402},
    {139, 32962, 201},
    {69, 33174, 402},
    {69, 33598, 201},
    {139, 33811, 401},
    {92, 34235, 401},
    {139, 34658, 201},
    {92, 34870, 402},
    {92, 35294, 201},
    {139, 35506, 403},
    {62, 35930, 402},
    {123, 36354, 201},
    {62, 36566, 403},
    {62, 36990, 201},
    {123, 37203, 401},
    {82, 37627, 401},
    {165, 38050, 200},
    {82, 38262, 402},
    {82, 38687, 199},
    {165, 38898, 402},
    {55, 39322, 402},
    {139, 39746, 201},
    {55, 39958, 403},
    {55, 40382, 200},
    {139, 40595, 401},
    {55, 41018, 402},
    {139, 41442, 200},
    {55, 41654, 603},
    {55, 42290, 982},
};

#endif // __NOTES_H__
